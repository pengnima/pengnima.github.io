(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["cate_params"],{"06ba":function(e,t,a){"use strict";var r=a("46b3"),n=a.n(r);n.a},1276:function(e,t,a){"use strict";var r=a("d784"),n=a("44e7"),l=a("825a"),s=a("1d80"),i=a("4840"),c=a("8aa5"),o=a("50c4"),u=a("14c3"),d=a("9263"),p=a("d039"),h=[].push,b=Math.min,m=4294967295,f=!p((function(){return!RegExp(m,"y")}));r("split",2,(function(e,t,a){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,a){var r=String(s(this)),l=void 0===a?m:a>>>0;if(0===l)return[];if(void 0===e)return[r];if(!n(e))return t.call(r,e,l);var i,c,o,u=[],p=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),b=0,f=new RegExp(e.source,p+"g");while(i=d.call(f,r)){if(c=f.lastIndex,c>b&&(u.push(r.slice(b,i.index)),i.length>1&&i.index<r.length&&h.apply(u,i.slice(1)),o=i[0].length,b=c,u.length>=l))break;f.lastIndex===i.index&&f.lastIndex++}return b===r.length?!o&&f.test("")||u.push(""):u.push(r.slice(b)),u.length>l?u.slice(0,l):u}:"0".split(void 0,0).length?function(e,a){return void 0===e&&0===a?[]:t.call(this,e,a)}:t,[function(t,a){var n=s(this),l=void 0==t?void 0:t[e];return void 0!==l?l.call(t,n,a):r.call(String(n),t,a)},function(e,n){var s=a(r,e,this,n,r!==t);if(s.done)return s.value;var d=l(e),p=String(this),h=i(d,RegExp),g=d.unicode,v=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(f?"y":"g"),_=new h(f?d:"^(?:"+d.source+")",v),y=void 0===n?m:n>>>0;if(0===y)return[];if(0===p.length)return null===u(_,p)?[p]:[];var C=0,x=0,w=[];while(x<p.length){_.lastIndex=f?x:0;var S,L=u(_,f?p:p.slice(x));if(null===L||(S=b(o(_.lastIndex+(f?0:x)),p.length))===C)x=c(p,x,g);else{if(w.push(p.slice(C,x)),w.length===y)return w;for(var k=1;k<=L.length-1;k++)if(w.push(L[k]),w.length===y)return w;x=C=S}}return w.push(p.slice(C)),w}]}),!f)},"159b":function(e,t,a){var r=a("da84"),n=a("fdbc"),l=a("17c2"),s=a("9112");for(var i in n){var c=r[i],o=c&&c.prototype;if(o&&o.forEach!==l)try{s(o,"forEach",l)}catch(u){o.forEach=l}}},"17c2":function(e,t,a){"use strict";var r=a("b727").forEach,n=a("a640"),l=a("ae40"),s=n("forEach"),i=l("forEach");e.exports=s&&i?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},"35dd":function(e,t,a){},"3b0d":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"goods_params"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[e._v("首页")]),a("el-breadcrumb-item",[e._v("商品管理")]),a("el-breadcrumb-item",[e._v("参数列表")])],1),a("el-card",[a("el-alert",{attrs:{closable:!1,title:"注意：只允许为第三分类设置相关参数",type:"warning","show-icon":""}}),a("el-row",{staticClass:"cat_omt"},[a("el-col",[a("span",[e._v("选择商品分类：")]),a("el-cascader",{attrs:{options:e.cateList,props:{expandTrigger:"hover",value:"cat_id",label:"cat_name"}},on:{change:e.handleSelectCate},model:{value:e.selectCate,callback:function(t){e.selectCate=t},expression:"selectCate"}})],1)],1),a("el-tabs",{on:{"tab-click":e.handleTabClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"动态参数",name:"many"}},[a("el-row",[a("el-button",{attrs:{type:"primary",disabled:e.isSelectDisabled}},[e._v("添加参数")])],1),a("el-table",{staticClass:"cat_omt",attrs:{data:e.tableData,border:"",stripe:""}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.attr_vals,(function(t){return a("el-tag",{key:t,attrs:{closable:""}},[e._v(e._s(t))])}))}}])}),a("el-table-column",{attrs:{type:"index",label:"#"}}),a("el-table-column",{attrs:{prop:"attr_name",label:"参数名称"}}),a("el-table-column",{attrs:{label:"操作",width:"250"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit"}},[e._v("编辑")]),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete"}},[e._v("删除")])],1)],1)],1),a("el-tab-pane",{attrs:{label:"静态属性",name:"only"}},[a("el-row",[a("el-button",{attrs:{type:"primary",disabled:e.isSelectDisabled}},[e._v("添加属性")])],1),a("el-table",{staticClass:"cat_omt",attrs:{data:e.tableData,border:"",stripe:""}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.attr_vals,(function(t){return a("el-tag",{key:t,attrs:{closable:""}},[e._v(e._s(t))])}))}}])}),a("el-table-column",{attrs:{type:"index",label:"#"}}),a("el-table-column",{attrs:{prop:"attr_name",label:"参数名称"}}),a("el-table-column",{attrs:{label:"操作",width:"250"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit"}},[e._v("编辑")]),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete"}},[e._v("删除")])],1)],1)],1)],1)],1)],1)},n=[],l=(a("4160"),a("ac1f"),a("1276"),a("159b"),a("96cf"),a("1da1")),s=a("8daa"),i={created:function(){this.getCateList()},data:function(){return{cateList:[],selectCate:[],activeName:"many",tableData:[]}},methods:{getCateList:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["a"])({url:"categories"});case 2:if(a=t.sent,r=a.data,200==r.meta.status){t.next=6;break}return t.abrupt("return",e.$message.error("请求数据失败。"));case 6:e.cateList=r.data;case 7:case"end":return t.stop()}}),t)})))()},getAttributes:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.isSelectDisabled){t.next=2;break}return t.abrupt("return",e.$message.error("请选择第三级的分类"));case 2:return t.next=4,Object(s["a"])({url:"categories/".concat(e.cateId,"/attributes"),params:{sel:e.activeName}});case 4:if(a=t.sent,r=a.data,200==r.meta.status){t.next=8;break}return t.abrupt("return",e.$message.error("请求数据失败。"));case 8:e.tableData=r.data,e.tableData.forEach((function(e){e.attr_vals=e.attr_vals?e.attr_vals.split(" "):[]}));case 10:case"end":return t.stop()}}),t)})))()},handleSelectCate:function(){if(this.isSelectDisabled)return this.selectCate=[],this.tableData=[],this.$message.error("请选择第三级的分类");this.getAttributes()},handleTabClick:function(){this.getAttributes()}},computed:{isSelectDisabled:function(){return 3!=this.selectCate.length},cateId:function(){return 3==this.selectCate.length?this.selectCate[2]:null}}},c=i,o=(a("06ba"),a("2877")),u=Object(o["a"])(c,r,n,!1,null,"2d0854dc",null);t["default"]=u.exports},4160:function(e,t,a){"use strict";var r=a("23e7"),n=a("17c2");r({target:"Array",proto:!0,forced:[].forEach!=n},{forEach:n})},"44e7":function(e,t,a){var r=a("861d"),n=a("c6b6"),l=a("b622"),s=l("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[s])?!!t:"RegExp"==n(e))}},"46b3":function(e,t,a){},"7f6a":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"goods_cate"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[e._v("首页")]),a("el-breadcrumb-item",[e._v("商品管理")]),a("el-breadcrumb-item",[e._v("商品分类")])],1),a("el-card",[a("el-row",[a("el-button",{attrs:{type:"primary"},on:{click:e.handleAddCate}},[e._v("添加分类")])],1),a("el-row",[a("el-table",{staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{data:e.cateList,"row-key":"cat_id",border:"","tree-props":{children:"children",hasChildren:"hasChildren"}}},[a("el-table-column",{attrs:{type:"index",label:"#"}}),a("el-table-column",{attrs:{prop:"cat_name",label:"分类名称"}}),a("el-table-column",{attrs:{prop:"cat_deleted",label:"是否有效"},scopedSlots:e._u([{key:"default",fn:function(e){return[e.row.cat_deleted?a("i",{staticClass:"el-icon-error",staticStyle:{color:"orange"}}):a("i",{staticClass:"el-icon-success",staticStyle:{color:"#2fa"}})]}}])}),a("el-table-column",{attrs:{prop:"cat_level",label:"等级"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.cat_level?a("el-tag",{attrs:{size:"mini"}},[e._v("一级")]):1==t.row.cat_level?a("el-tag",{attrs:{size:"mini",type:"success"}},[e._v("二级")]):a("el-tag",{attrs:{type:"warning",size:"mini"}},[e._v("三级")])]}}])}),a("el-table-column",{attrs:{label:"操作",width:"250"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit"}},[e._v("编辑")]),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete"}},[e._v("删除")])],1)],1)],1),a("el-row",[a("el-pagination",{attrs:{background:"","page-size":e.queryInfo.pagesize,"page-sizes":[5,10,15,20],layout:"total,sizes,prev, pager, next,jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),a("el-dialog",{attrs:{title:"添加分类",visible:e.addCateDialog},on:{"update:visible":function(t){e.addCateDialog=t},close:e.handleCateDialogClose}},[a("el-form",{attrs:{model:e.cateForm,rules:e.rules}},[a("el-form-item",{attrs:{label:"分类名称：",prop:"cat_name","label-width":"120px"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.cateForm.cat_name,callback:function(t){e.$set(e.cateForm,"cat_name",t)},expression:"cateForm.cat_name"}})],1),a("el-form-item",{attrs:{label:"父级分类：","label-width":"120px"}},[a("el-cascader",{staticStyle:{width:"50%"},attrs:{clearable:"",options:e.parentList,props:{expandTrigger:"hover",label:"cat_name",value:"cat_id",checkStrictly:!0}},on:{change:e.handleSelectChange},model:{value:e.selectKeys,callback:function(t){e.selectKeys=t},expression:"selectKeys"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.addCateDialog=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.handleAddCateChecked}},[e._v("确 定")])],1)],1)],1)},n=[],l=(a("96cf"),a("1da1")),s=a("8daa"),i={created:function(){this.getCates()},data:function(){return{queryInfo:{type:3,pagenum:1,pagesize:5},cateList:[],parentList:[],total:0,addCateDialog:!1,selectKeys:[],cateForm:{cat_pid:0,cat_name:"",cat_level:0},rules:{cat_name:[{required:!0,message:"请输入分类名称",trigger:"blur"},{min:1,max:9,message:"长度在 1 到 9 个字符",trigger:"blur"}]}}},methods:{getCates:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["a"])({url:"categories",params:e.queryInfo});case 2:if(a=t.sent,r=a.data,200==r.meta.status){t.next=6;break}return t.abrupt("return",e.$message.error("请求数据失败。"));case 6:r=r.data,e.cateList=r.result,e.total=r.total;case 9:case"end":return t.stop()}}),t)})))()},handleSizeChange:function(e){this.queryInfo.pagesize=e,this.getCates()},handleCurrentChange:function(e){this.queryInfo.pagenum=e,this.getCates()},handleAddCate:function(){this.addCateDialog=!0,this.getParentCateList()},handleAddCateChecked:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["a"])({url:"categories",method:"post",data:e.cateForm});case 2:if(a=t.sent,r=a.data,201==r.meta.status){t.next=6;break}return t.abrupt("return",e.$message.error("请求数据失败。"));case 6:e.getCates(),e.$message.success("修改成功~"),e.addCateDialog=!1;case 9:case"end":return t.stop()}}),t)})))()},getParentCateList:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0!=e.parentList.length){t.next=8;break}return t.next=3,Object(s["a"])({url:"categories",method:"get",params:{type:2}});case 3:if(a=t.sent,r=a.data,200==r.meta.status){t.next=7;break}return t.abrupt("return",e.$message.error("请求数据失败。"));case 7:e.parentList=r.data;case 8:case"end":return t.stop()}}),t)})))()},handleSelectChange:function(){var e=this.selectKeys;e.length>0?(this.cateForm.cat_pid=e[e.length-1],this.cateForm.cat_level=e.length):(this.cateForm.cat_pid=0,this.cateForm.cat_level=0)},handleCateDialogClose:function(){this.cateForm.cat_name="",this.cateForm.cat_pid=0,this.cateForm.cat_level=0,this.selectKeys=[]}}},c=i,o=(a("bafb"),a("2877")),u=Object(o["a"])(c,r,n,!1,null,"9e76df84",null);t["default"]=u.exports},a640:function(e,t,a){"use strict";var r=a("d039");e.exports=function(e,t){var a=[][e];return!!a&&r((function(){a.call(null,t||function(){throw 1},1)}))}},bafb:function(e,t,a){"use strict";var r=a("35dd"),n=a.n(r);n.a},fdbc:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=cate_params.25d2a313.js.map