{"version":3,"sources":["webpack:///./src/views/system/SubSystemOperate.vue?9bee","webpack:///./src/views/system/SubSystemOperate.vue?e99a","webpack:///src/views/system/SubSystemOperate.vue","webpack:///./src/views/system/SubSystemOperate.vue?b960","webpack:///./src/views/system/SubSystemOperate.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","$route","meta","_v","_s","info","name","ref","props","loadNode","on","handleNodeClick","scopedSlots","_u","key","fn","node","data","staticStyle","label","level","$event","handleMenuAdd","_e","handleMenuEdit","handleMenuRemove","class","isshow","menuForm","formRules","model","value","callback","$$v","$set","expression","_l","item","handleSureMenu","postNum","handleCancleForm","staticRenderFns","created","id","mounted","isLeaf","options","subsystem_id","name_en","parent_id","parent_name","order_id","type","addr","memo","computed","methods","requestTree","resolve","getChildrenNode","getButtinrenNode","console","log","$refs","formRef","resetFields","components","Breadcrumb","component"],"mappings":"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","file":"js/chunk-3ced7bdf.19ab796f.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubSystemOperate.vue?vue&type=style&index=0&id=247477c5&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubSystemOperate.vue?vue&type=style&index=0&id=247477c5&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"subsystem\"},[_c('breadcrumb',{attrs:{\"routeMeta\":_vm.$route.meta}}),_c('el-row',[_vm._v(\" [ \"),_c('span',{staticClass:\"sys_name\"},[_vm._v(_vm._s(_vm.info.name))]),_vm._v(\" ] \")]),_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":10}},[_c('el-tree',{ref:\"tree\",staticClass:\"tree\",attrs:{\"node-key\":\"id\",\"highlight-current\":\"\",\"props\":_vm.props,\"load\":_vm.loadNode,\"indent\":0,\"lazy\":\"\",\"show-checkbox\":\"\",\"expand-on-click-node\":false,\"icon-class\":\"el-icon-circle-plus-outline\"},on:{\"node-click\":_vm.handleNodeClick},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar node = ref.node;\nvar data = ref.data;\nreturn _c('span',{staticClass:\"custom-tree-node\"},[_c('span',{staticStyle:{\"margin-right\":\"15px\"}},[_vm._v(_vm._s(node.label))]),_c('span',[(node.level==1 ||node.level==2 )?_c('el-button',{staticClass:\"el-icon-circle-plus\",attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.handleMenuAdd(node,data)}}}):_vm._e(),(node.level==1 ||node.level==2 )?_c('el-button',{staticClass:\"el-icon-s-tools\",attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.handleMenuEdit(node,data)}}}):_vm._e(),(node.level==1 || node.level==2)?_c('el-button',{staticClass:\"el-icon-remove\",attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.handleMenuRemove(node, data)}}}):_vm._e()],1)])}}])})],1),_c('el-col',{attrs:{\"span\":14}},[_c('el-form',{ref:\"formRef\",class:['right_form',{'form_active':_vm.isshow}],attrs:{\"model\":_vm.menuForm,\"rules\":_vm.formRules}},[_c('el-form-item',{attrs:{\"prop\":\"name\"}},[_c('label',[_vm._v(\"菜单名称(中文)\")]),_c('el-input',{model:{value:(_vm.menuForm.name),callback:function ($$v) {_vm.$set(_vm.menuForm, \"name\", $$v)},expression:\"menuForm.name\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"name_en\"}},[_c('label',[_vm._v(\"菜单名称(英文)\")]),_c('el-input',{model:{value:(_vm.menuForm.name_en),callback:function ($$v) {_vm.$set(_vm.menuForm, \"name_en\", $$v)},expression:\"menuForm.name_en\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"addr\"}},[_c('label',[_vm._v(\"路径地址\")]),_c('el-input',{model:{value:(_vm.menuForm.addr),callback:function ($$v) {_vm.$set(_vm.menuForm, \"addr\", $$v)},expression:\"menuForm.addr\"}})],1),_c('el-form-item',[_c('label',[_vm._v(\"上级菜单\")]),_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.menuForm.parent_name),callback:function ($$v) {_vm.$set(_vm.menuForm, \"parent_name\", $$v)},expression:\"menuForm.parent_name\"}})],1),_c('el-form-item',[_c('label',[_vm._v(\"菜单类型\")]),_c('el-select',{staticStyle:{\"display\":\"block\"},attrs:{\"placeholder\":\"请选择\",\"disabled\":\"\"},model:{value:(_vm.menuForm.type),callback:function ($$v) {_vm.$set(_vm.menuForm, \"type\", $$v)},expression:\"menuForm.type\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_c('el-form-item',{attrs:{\"prop\":\"memo\"}},[_c('label',[_vm._v(\"备注\")]),_c('el-input',{model:{value:(_vm.menuForm.memo),callback:function ($$v) {_vm.$set(_vm.menuForm, \"memo\", $$v)},expression:\"menuForm.memo\"}})],1),_c('el-button',{on:{\"click\":function($event){return _vm.handleSureMenu(this.postNum)}}},[_vm._v(\"提交\")]),_c('el-button',{on:{\"click\":_vm.handleCancleForm}},[_vm._v(\"取消\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"subsystem\">\n    <!-- 主体页面 开始 -->\n    <!-- 面包屑 -->\n    <breadcrumb :routeMeta=\"$route.meta\"></breadcrumb>\n\n    <!-- 分配菜单 begin-->\n    <el-row>\n      [\n      <span class=\"sys_name\">{{ info.name }}</span> ]\n    </el-row>\n    <el-row :gutter=\"20\">\n      <el-col :span=\"10\">\n        <el-tree\n          node-key=\"id\"\n          ref=\"tree\"\n          class=\"tree\"\n          highlight-current\n          :props=\"props\"\n          :load=\"loadNode\"\n          :indent=\"0\"\n          lazy\n          show-checkbox\n          @node-click=\"handleNodeClick\"\n          :expand-on-click-node=\"false\"\n          icon-class=\"el-icon-circle-plus-outline\"\n        >\n          <span class=\"custom-tree-node\" slot-scope=\"{ node, data }\">\n            <span style=\"margin-right:15px\">{{ node.label }}</span>\n            <span>\n              <el-button\n                type=\"text\"\n                class=\"el-icon-circle-plus\"\n                v-if=\"node.level==1 ||node.level==2 \"\n                @click=\"handleMenuAdd(node,data)\"\n              ></el-button>\n              <el-button\n                type=\"text\"\n                class=\"el-icon-s-tools\"\n                v-if=\"node.level==1 ||node.level==2 \"\n                @click=\"handleMenuEdit(node,data)\"\n              ></el-button>\n              <el-button\n                type=\"text\"\n                class=\"el-icon-remove\"\n                v-if=\"node.level==1 || node.level==2\"\n                @click=\"handleMenuRemove(node, data)\"\n              ></el-button>\n            </span>\n          </span>\n        </el-tree>\n      </el-col>\n\n      <!-- 右边 表单栏 -->\n      <el-col :span=\"14\">\n        <el-form\n          ref=\"formRef\"\n          :model=\"menuForm\"\n          :rules=\"formRules\"\n          :class=\"['right_form',{'form_active':isshow}]\"\n        >\n          <el-form-item prop=\"name\">\n            <label>菜单名称(中文)</label>\n            <el-input v-model=\"menuForm.name\" />\n          </el-form-item>\n          <el-form-item prop=\"name_en\">\n            <label>菜单名称(英文)</label>\n            <el-input v-model=\"menuForm.name_en\" />\n          </el-form-item>\n          <el-form-item prop=\"addr\">\n            <label>路径地址</label>\n            <el-input v-model=\"menuForm.addr\" />\n          </el-form-item>\n          <el-form-item>\n            <label>上级菜单</label>\n            <el-input v-model=\"menuForm.parent_name\" disabled />\n          </el-form-item>\n          <el-form-item>\n            <label>菜单类型</label>\n            <el-select v-model=\"menuForm.type\" placeholder=\"请选择\" style=\"display:block\" disabled>\n              <el-option\n                v-for=\"item in options\"\n                :key=\"item.value\"\n                :label=\"item.label\"\n                :value=\"item.value\"\n              ></el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item prop=\"memo\">\n            <label>备注</label>\n            <el-input v-model=\"menuForm.memo\" />\n          </el-form-item>\n          <el-button @click=\"handleSureMenu(this.postNum)\">提交</el-button>\n          <el-button @click=\"handleCancleForm\">取消</el-button>\n        </el-form>\n      </el-col>\n    </el-row>\n  </div>\n</template>\n\n<script>\nimport {\n  getSubsystemOneMenuListApi,\n  getSubsystemTwoMenuListApi,\n  getSubsystemBtnMenuListApi,\n  getSubsystemMenuSave,\n  getSubsystemMenuUpdate,\n  getSubsystemMenuInfo\n} from \"@/api/api.js\";\nimport Breadcrumb from \"@/components/Breadcrumb.vue\";\nimport { mapState } from \"vuex\";\n\nimport { ruleName_en, ruleAddr } from \"@/rules/index.js\";\n\nexport default {\n  name: \"subSystemOperate\",\n  created() {\n    this.info = {\n      name: \"彭尼玛_子系统\",\n      id: 1\n    };\n  },\n  mounted() {},\n  data() {\n    return {\n      postNum: null, //0表示删除 1表示新增 2表示编辑\n      info: {},\n      //菜单\n      props: {\n        label: \"name\",\n        isLeaf: \"leaf\"\n      },\n      isshow: false,\n      value: \"\",\n      options: [\n        {\n          value: 1,\n          label: \"一级菜单\"\n        },\n        {\n          value: 2,\n          label: \"二级菜菜单\"\n        },\n        {\n          value: 3,\n          label: \"按钮\"\n        }\n      ],\n      menuForm: {\n        subsystem_id: null,\n        name: \"\",\n        name_en: \"\",\n        parent_id: null, //可以默认为勾选的那个\n        parent_name: \"\",\n        order_id: 1, // 默认 1\n        type: null, //\n        addr: \"\",\n        memo: \"\"\n      },\n      formRules: {\n        name: [\n          { required: true, message: \"请输入菜单名\", trigger: \"blur\" },\n          { min: 2, max: 10, message: \"长度在 2 到 9 个字符\", trigger: \"blur\" }\n        ],\n        name_en: [\n          {\n            required: true,\n            validator: ruleName_en,\n            trigger: \"blur\"\n          },\n          {\n            min: 2,\n            max: 20,\n            message: \"长度在 2 到 20 个字符\",\n            trigger: \"blur\"\n          }\n        ],\n        addr: [\n          {\n            required: true,\n            validator: ruleAddr,\n            trigger: \"blur\"\n          },\n          {\n            min: 2,\n            max: 50,\n            message: \"长度在 2 到 50 个字符\",\n            trigger: \"blur\"\n          }\n        ],\n        memo: [\n          { required: true, message: \"请输入备注\", trigger: \"blur\" },\n          { min: 2, max: 50, message: \"长度在 2 到 50 个字符\", trigger: \"blur\" }\n        ]\n      }\n    };\n  },\n  computed: {\n    ...mapState(\"tabs\", [\"pageTabs\"])\n  },\n  methods: {\n    handleNodeClick(data, node) {\n      // console.log(data);\n    },\n    //懒加载时触发\n    loadNode(node, resolve) {\n      // console.log(node.level);\n\n      if (node.level === 0) {\n        this.requestTree(resolve);\n      }\n\n      if (node.level === 1) {\n        // 二级节点\n        this.getChildrenNode(node, resolve);\n      }\n      if (node.level === 2) {\n        this.getButtinrenNode(node, resolve);\n\n        // if (node.level > 1) return resolve([]);\n      }\n    },\n    //一级节点\n    async requestTree(resolve) {\n      let params = {\n        id: this.info.id,\n        name: this.info.name\n      };\n      let res = await getSubsystemOneMenuListApi(params);\n      if (res.code == 10000) {\n        console.log(res.value);\n\n        resolve(res.value.subSystemMenuList);\n      }\n    },\n\n    // 二级节点\n    async getChildrenNode(node, resolve) {\n      let params = {\n        id: this.info.id,\n        one_menu_id: node.data.id\n      };\n      let res = await getSubsystemTwoMenuListApi(params, {\n        emulateJSON: true,\n        emulateHTTP: true\n      });\n      if (res.code == 10000) {\n        console.log(res.value);\n        resolve(res.value);\n      }\n    },\n\n    // 按钮节点\n    async getButtinrenNode(node, resolve) {\n      let params = {\n        id: this.info.id,\n        one_menu_id: node.data.id\n      };\n      let res = await getSubsystemBtnMenuListApi(params, {\n        emulateJSON: true,\n        emulateHTTP: true\n      });\n\n      if (res.code == 10000) {\n        console.log(res.value);\n        res.value.forEach(v => {\n          v[\"leaf\"] = true;\n        });\n        resolve(res.value);\n      }\n    },\n\n    /**\n     * 小按钮事件\n     */\n    /**\n    {\n      \"subsystem_id\": 1,\n      \"name\": \"分公司信息\",\n      \"name_en\": \"fengongsiInfo\",\n      \"parent_id\": 2,\n      \"order_id\": 1,\n      \"type\": 2,\n      \"addr\": \"/xxx/xx\",\n      \"memo\": \"描述xxxxxx\"\n    }\n     */\n    // 点击 新增菜单按钮\n    handleMenuAdd(node, data) {\n      console.log(data);\n      console.log(node);\n\n      // 动态展开 form 表单\n      this.isshow = true;\n\n      this.menuForm.subsystem_id = this.info.id;\n      this.menuForm.parent_id = data.id;\n      this.menuForm.parent_name = data.name;\n      this.menuForm.type = node.level + 1;\n    },\n    // 确定请求\n    async handleSureMenu(postNum) {\n      if (postNum == null) {\n        return;\n      }\n\n      // 0. 验证\n      this.$refs.formRef.validate(async vali => {\n        if (vali != true) {\n          return this.$message.error(\"请按正确格式输入\");\n        }\n\n        // 表单验证成功\n        let res = null;\n        if (postNum == 0) {\n          // 0. 发送删除菜单的请求\n          console.log(\"发送删除菜单的请求\");\n        } else if (postNum == 1) {\n          // 1. 发送新增菜单的请求\n          console.log(\"发送新增菜单的请求\");\n\n          res = await getSubsystemMenuSave(this.menuForm);\n        } else if (postNum == 2) {\n          // 2. 发送修改菜单的请求\n          console.log(\"发送修改菜单的请求\");\n          res = await getSubsystemMenuUpdate(this.menuForm);\n        }\n\n        if (res && res.code != 10000) {\n          return this.$message.error(res.message);\n        }\n\n        this.$message.success(res.message);\n\n        // 关闭表单\n        this.handleCancleForm();\n      });\n    },\n    // 关闭 form 表单\n    handleCancleForm() {\n      this.isshow = false;\n\n      this.postNum = null;\n      this.menuForm = {\n        subsystem_id: null,\n        name: \"\",\n        name_en: \"\",\n        parent_id: null, //可以默认为勾选的那个\n        parent_name: \"\",\n        order_id: 1, // 默认 1\n        type: null, //\n        addr: \"\",\n        memo: \"\"\n      };\n      this.$refs.formRef.resetFields();\n    },\n\n    // 点击 编辑菜单按钮\n    async handleMenuEdit(node, data) {\n      console.log(data);\n      // 动态展开 form 表单\n      this.postNum = 2;\n      this.isshow = true;\n\n      // 传参权限ID\n      let res = await getSubsystemMenuInfo({ id: data.id });\n\n      if (res.code != 10000) {\n        return this.$message.error(res.message);\n      }\n      res = res.value;\n\n      this.menuForm = {\n        subsystem_id: this.info.id,\n        name: res.name,\n        name_en: res.name_en,\n        parent_id: res.parent_id, //可以默认为勾选的那个\n        parent_name: res.parent_name,\n        order_id: 1, // 默认 1\n        type: res.type, //\n        addr: res.addr,\n        memo: res.memo\n      };\n    },\n    handleMenuRemove(node, data) {\n      console.log(node, data);\n    }\n  },\n  components: {\n    Breadcrumb\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.sys_name {\n  color: #f55;\n}\n.el-row {\n  margin-top: 10px;\n}\n\n// 渐变特效\n.right_form {\n  padding: 20px;\n  border-radius: 18px;\n  position: relative;\n  top: -50px;\n  box-shadow: 0px 1px 4px #666;\n\n  transform: translateX(40px);\n\n  transition: all 0.5s;\n  opacity: 0;\n  visibility: hidden;\n}\n.form_active {\n  transform: translateX(0px);\n  opacity: 1;\n  visibility: visible;\n}\n\n.tree /deep/ .el-tree-node {\n  position: relative;\n  padding-left: 16px;\n}\n\n.tree /deep/ .el-tree-node__children {\n  padding-left: 16px;\n}\n\n.tree /deep/ .el-tree-node :last-child:before {\n  height: 38px;\n}\n\n.tree /deep/ .el-tree > .el-tree-node:before {\n  border-left: none;\n}\n\n.tree-container /deep/ .el-tree > .el-tree-node:after {\n  border-top: none;\n}\n\n.tree /deep/ .el-tree-node:before {\n  content: \"\";\n  left: -4px;\n  position: absolute;\n  right: auto;\n  border-width: 1px;\n}\n\n.tree /deep/ .el-tree-node:after {\n  content: \"\";\n  left: -4px;\n  position: absolute;\n  right: auto;\n  border-width: 1px;\n}\n\n.tree /deep/ .el-tree-node:before {\n  border-left: 1px dashed #4386c6;\n  bottom: 0px;\n  height: 100%;\n  top: -26px;\n  width: 1px;\n}\n\n.tree /deep/ .el-tree-node:after {\n  border-top: 1px dashed #4386c6;\n  height: 20px;\n  top: 12px;\n  width: 24px;\n}\n\n// .tree-container {\n//树的parent，样式自定\n// }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubSystemOperate.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubSystemOperate.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SubSystemOperate.vue?vue&type=template&id=247477c5&scoped=true&\"\nimport script from \"./SubSystemOperate.vue?vue&type=script&lang=js&\"\nexport * from \"./SubSystemOperate.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SubSystemOperate.vue?vue&type=style&index=0&id=247477c5&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"247477c5\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}